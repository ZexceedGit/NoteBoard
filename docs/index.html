<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Notebook</title>
    <style>
@import url('https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap');

        * {
            margin:0;
            padding:0;
            box-sizing:border-box;
            font-family:"Patrick Hand", "sans-serif";
        }
        .options .active {
            background-color:white;
            color:#813d12;
        }
        .pin-btn {
            margin-right:10px;
        }
        body {
            overflow-x:hidden;
            overflow-y:scroll;
        }
        .navbar {
            height:100px;
            display:flex;
            padding:0 20px;
            align-items: center;
            background-color: #d4a574;
            border-bottom:4px solid #803805;
        }
        .navbar .buttons {
            display:flex;
            gap:10px;
        }
        .navbar .buttons button {
            width:150px;
            cursor:pointer;
            padding:18px;
            display:flex;
            justify-content: center;
            border:none;
            font-size:1.03rem;
            border-radius:5px;
            font-weight:bold; 
            transition:all 300ms ease-in-out;
        }
        .navbar .buttons button:hover {
            transform:scale(1.02);
        }
        .navbar .buttons button i {
            margin-right:10px;
            font-size:1.3rem;
        }
        .navbar .buttons button:nth-child(1){
            background-color:#fcc200;
            color:#803805;
            border:2px solid #d08700;
        }
        .navbar .buttons button:nth-child(2){
            background-color:#fef3c6;
            border:2px solid #ffb900;
        }
        .navbar .buttons button:nth-child(3){
            border:2px solid #bb4d00;
        }
        /* main */
        
        .container {
            background: url("images/paper2.jpg") center / cover no-repeat;
        }
        .option-bar {
            height:calc(40vh - 100px);
            display:flex;
            justify-content: center;
            align-items: center;
        }
        .option-bar .options {
            display:flex;
            width:500px;
            border-radius:10px;
            gap:10px;
            padding:10px;
            justify-content: center;
            background-color: #fef3c6;
            border:4px solid #fecb3d;
        }
        .option-bar .options .box {
            display:flex;
            align-items: center;
            justify-content: center;
            width:300px;
            padding:10px;
            border-radius:5px;
        }
        .option-bar .options .box i {
            font-size:1.4rem;
            margin-right:5px;
        }
        .option-bar .options .box h1 {
            font-size:1.5rem;
        }


        .main {
          min-height:calc(100vh - 40vh);

        }
        .main .cards-board {
            padding:15px;
            display:grid;
            grid-template-columns: repeat(4,1fr);
            gap:20px;
            row-gap:40px;
            align-items: start;
        }
     
        .main .cards-board .card.yellow-diagonal,
        .main .cards-board .card.yellow {
        min-height: 250px;
        max-height:300px;
        height: auto; 
        }

        .main .cards-board .card.green {
            position:relative;
            transform:rotate(-2deg);
            padding:10px 30px;
            border-radius:5px;
            width:290px;
            font-weight:bold;
            display:flex;
            flex-direction:column;
            gap:10px;
            justify-content: center;
            align-items: start;
            border:3px solid #27d675;
            background-color:#b9f8cf;
        }
          .main .cards-board .card.yellow-diagonal {
            position:relative;
            transform:rotate(2deg);
            border-radius:5px;
            width:290px;
            padding:10px 30px;
            display:flex;
            flex-direction:column;
            gap:10px;
            justify-content: center;
            align-items: start;
            border:3px solid #fdd329;
            background-color: #feef84;
        }
        
           .main .cards-board .card.yellow {
            position:relative;
            border-radius:5px;
            min-width:290px;
            padding:10px 30px;
            display:flex;
            flex-direction:column;
            gap:10px;
            justify-content: center;
            align-items: start;
            border:3px solid #fdd329;
            background-color: #feef84;
        }
         .main .cards-board .card.pink {
            position:relative;
            border-radius:5px;
            min-width:290px;
            padding:10px 30px;
            display:flex;
            flex-direction:column;
            gap:10px;
            justify-content: center;
            align-items: start;
            border:3px solid #f96bb8;
            background-color:  #fbcde7;
        }
          .main .cards-board .card.blue {
            position:relative;
            border-radius:5px;
            min-width:290px;
            padding:10px 30px;
            display:flex;
            flex-direction:column;
            gap:10px;
            justify-content: center;
            align-items: start;
            border:3px solid  #50a2ff;
            background-color:   #c7e0ff;
        }
         .main .cards-board .card.purple {
            position:relative;
            border-radius:5px;
            min-width:290px;
            padding:10px 30px;
            display:flex;
            flex-direction:column;
            gap:10px;
            justify-content: center;
            align-items: start;
            border:3px solid #c27aff;
            background-color: #e6d4fb;
        }
          .main .cards-board .card.orange {
            position:relative;
            border-radius:5px;
            min-width:290px;
            padding:10px 30px;
            display:flex;
            flex-direction:column;
            gap:10px;
            justify-content: center;
            align-items: start;
            border:3px solid  #ff9c2c;
            background-color:  #ffdcb4;
        }
        .pins {
            position:absolute;
            top:35px;
            left:20%;
            transform:translate(50%,-50%);
        }
        .pin {
        position: relative;
        width: 80px;
        height: 120px;
        }

        .pin-head {
            width: 30px;
            height: 30px;
            background: #e53935;
            border-radius: 50%;
            position: relative;
            margin: 0 auto;
                /* box-shadow: inset -4px -6px 0 rgba(0,0,0,0.15); */
        }

        .pin-head::after,.pin-head2::after {
            content: "";
            position: absolute;
            top: 7px;
            left: 7px;
            width: 12px;
            height: 12px;
            background: rgba(255,255,255,0.35);
            border-radius: 50%;
        }

        .pin-stem {
            width: 10px;
            height: 20px;
            background: #9e9e9e;
            margin: -5px auto 0;
            border-radius: 5px;
        }
            
        .main .cards-board .card h1 {
            font-size:1.3rem;
            text-transform:uppercase;
        }
        .main .cards-board .card span {
            background-color: white;
            padding: 0 10px;
            font-weight:bold;
            border-radius:10px;
        }
        .main .cards-board .card .card-clickables {
            display:flex;
            gap:30px;
        }
        .main .cards-board .card .card-clickables .btn {
            display:flex;
            align-items:center;
            gap:10px;
        }
        .main .cards-board .card .card-clickables .btn i {
            font-size:1.5rem;
        }
        .main .cards-board .card .card-clickables .btn h2 {
            font-size:1.5rem;
        }

        .createModal {
        display: none; 
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.5); 
        justify-content: center;
        align-items: center;
        }
        .modal-content {
        background-color: #fff;
        border-radius: 8px;
        width: 750px;
        max-width: 90%;
        position: relative;
        max-height:500px;
        overflow-y:scroll;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .modal-content::-webkit-scrollbar {
            width:6px;
        }
        .modal-content::-webkit-scrollbar-track {
            background-color: #d4a574;
             padding:10px;
        }
        .modal-content::-webkit-scrollbar-thumb {
            background-color:white;
            border-radius:30px;
            width:3px;

        }
        .createModal .header-container {
            display:flex;
             background-color:#fef3c6;
            align-items: center;
             padding:0 20px;
            justify-content: space-between;
        }
        .createModal .header-container .header{
            height:60px;
            display:flex;
            align-items: center;
            font-weight:bold;
            font-size:1.5rem;
            color:#884619;
        }
        .createModal .header-container .header i {
            margin-right:20px;
            font-size:1.5rem;
        }
        .createModal .header-container .close {
            font-size:1.4rem;
            cursor:pointer;
        }
        .createModal .modal-content .modal-body {
            padding:15px 30px;
        }
        .createModal .modal-content .modal-body .modal-announcement {
            border:2px solid  #bedbff;
            padding:10px 30px;
            border-radius:10px;
        }
        .createModal .modal-content .modal-body .modal-announcement .top {
            display:flex;
            align-items: center;
            justify-content: start;
            margin-bottom:10px;
        }
        .createModal .modal-content .modal-body .modal-announcement .top .title {
            margin-right:10px;
        }
        .createModal .modal-content .modal-body .modal-announcement .top .reminder {
            background-color: #ffedd4;
            color:#cc3c08;
            padding:10px 30px;
            border-radius:30px;
            font-weight:bold;
            display: flex;
            align-items: center;
        }
        .createModal .modal-content .modal-body .modal-announcement .top .reminder i {
            font-size:1.4rem;
            margin-right:10px;
        }
        .createModal .modal-content .modal-body .modal-announcement p{
            font-size:1.4rem;
            color:#9399a2;
        }

        .createModal .modal-content .modal-body .middle {
            margin-top:20px;
        }
        .createModal .modal-content .modal-body .middle h1,
        .createModal .modal-content .modal-body .color h1,
        .createModal .modal-content .modal-body .preview h1 {
            color:#7b3306;
            font-size:1.5rem;
            margin-bottom:10px;
        }
        .createModal .modal-content .modal-body .middle textarea{
            width:100%;
            min-height:150px;
            padding:10px;
            background-color: #faf8e4;
            font-size:1.2rem;
            border:3px solid #ffd230;
        }
        .createModal .modal-content .modal-body .middle .textarea::placeholder {
            color:#cecdbf;
            font-size:1.1rem;
        }
        .createModal .modal-content .modal-body .middle .character-count {
            display:flex;
            align-items: center;
            justify-content: space-between;
        }
        .createModal .modal-content .modal-body .middle .character-count h3 {
            color:#e17203;
            padding:10px 0;
        }
        .createModal .modal-content .modal-body .middle .character-count span {
            font-weight:bold;
            color:#bf560b;
            background-color: #fef3c6;
            padding:10px 20px;
            border:1px solid  #d58e4e;
            border-radius: 30px;
        }
        .createModal .modal-content .modal-body .color {
            margin-top:20px;
        }
        .createModal .modal-content .modal-body .color .color-selection {
            display:grid;
            margin-top:20px;
            gap:10px;
            grid-template-columns: repeat(3,1fr);
        }
        .createModal .modal-content .modal-body .color .color-selection .box {
            height:70px;
            width:100%;
            display:flex;
            cursor:pointer;
            align-items: center;
            justify-content: center;
            transition:all 300ms ease;
        }
        .createModal .modal-content .modal-body .color .color-selection .box h2 {
            font-size:1.2rem;
            font-style: italic;
        }
         .createModal .modal-content .modal-body .color .color-selection .box:hover {
            transform:scale(1.01);
         }
        .createModal .modal-content .modal-body .color .color-selection .box:nth-child(1){
            background-color: #fff085;
            border:3px solid #fdc700;
            border-radius:5px;
        }
          .createModal .modal-content .modal-body .color .color-selection .box:nth-child(2){
            background-color: #fbcde6;
            border:3px solid #fa78bf;
            border-radius:5px;
        }
          .createModal .modal-content .modal-body .color .color-selection .box:nth-child(3){
            background-color: #bddafe;
            border:3px solid  #50a2ff;
            border-radius:5px;
        }
          .createModal .modal-content .modal-body .color .color-selection .box:nth-child(4){
            background-color: #b9f8cf;
            border:3px solid #05df72;
            border-radius:5px;
        }
          .createModal .modal-content .modal-body .color .color-selection .box:nth-child(5){
            background-color: #e9d4ff;
            border:3px solid  #c27aff;
            border-radius:5px;
        }
          .createModal .modal-content .modal-body .color .color-selection .box:nth-child(6){
            background-color: #ffd6a7;
            border:3px solid #ff8904;
            border-radius:5px;
        }
          .createModal .modal-content .modal-body .color .color-selection .box.active {
            transform:scale(1.05);
         }
        .createModal .modal-content .modal-body .bottom {
            border-top: 2px solid  #fdc700;
            margin-top:20px;
            height:100px;
            padding:30px 20px;
            display:flex;
            align-items: center;
            justify-content: end;
        }
        .createModal .modal-content .modal-body .bottom .buttons button {
            padding:10px;
            margin:5px;
            border-radius:10px;
            cursor:pointer;
            font-size:1.1rem;
        }
         .createModal .modal-content .modal-body .bottom .buttons button:nth-child(1) {
            font-size:1.1rem;
            color:#973c00;
            border:2px solid #e17100;
            font-weight:bold;
        }
         .createModal .modal-content .modal-body .bottom .buttons button:nth-child(2) {
            font-weight:bold;
            background-color: #fee37f;
            width:180px;
            border:2px solid #e7c37f;
            font-size:1.1rem;
        }
        .createModal .modal-content .modal-body .preview{
            margin-top:30px;
            display:none;
        }
        .createModal .modal-content .modal-body .preview .preview-box {
            width:100%;
            background-color: #fff085;
            height:60px;
            border-radius:5px;
            padding:10px 30px;
            border:3px solid #fdc700;
            transform:rotate(-1deg);
        }
        .main .rule {
            display:none;
            place-items: center;
            margin-top:50px;
            row-gap:20px;
        }
        .main .rule .rectangle-container {
            display: grid;
            row-gap:20px;
            padding:20px;
        }
        .main .rule h1 {
            color:#7b3306;
            font-size:2.5rem;
        }
        .main .rule .message-icon {
            height:100px;
            width:100px;
            background-color:  #d6e4f6;
            border:3px solid #5ea2f0;
            border-radius:10px;
            transform: rotate(7deg);
            position:relative;
            display: flex;
            justify-content: center;
            align-items: center;
            margin:20px;
        }
        .main .rule .message-icon i {
            font-size:3.2rem;
            color: #2266fb;
             transform: rotate(2deg);
        }
        .main .rule .rectangle-container .rectangle {
            background-color: #f6f1e8;
            padding:20px;
            border:3px solid #fee685;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            width:700px;
            color:#c78241;
        }
        .main .rule .rectangle-container .rectangle h2 {
             font-weight:300;
        }
        .main .rule  .credits {
            width:400px;
            background-color: white;
            display:flex;
            border-radius:30px;
            padding:15px;
            margin-bottom:20px;
             color:#c78241;
             border:3px solid #fee685;
            justify-content: center;
        }
        .main .rule .credits p {
            font-weight: bold;
        }
        .main .rule .credits .circle {
            height:20px;
            width:20px;
            margin-right:10px;
            border-radius:50%;
            background-color: #00c950;
        }
        .pins2{
        position:absolute;
        top:30px;
        right:47%;
        transform:translate(50%,-50%);
        }

        .pin-head2 {
        width: 30px;
        height: 30px;
        background:  #36c970;
        border-radius: 50%;
        position: relative;
        margin: 0 auto;
        }
        .note-toaster {
            position:absolute;
            top:-110px;
            right:80px;
            background-color: #b9f8cf;
            border:3px solid #05df72;
            border-radius:5px;
            padding:10px;
            width:300px;
            height:100px;
            display:flex;
            flex-direction: column;
            transition:all 300ms ease;
            justify-content: center;
            transform: rotate(2deg);
        }
        .note-toaster.active {
            top:30px;
            right:30px;
        }
        .note-toaster .top {
            display:flex;
            align-items: center;
            gap:10px;
        }
        .note-toaster .top h1 {
            font-size:1.3rem;
        }
        .note-toaster .top i {
            font-size:30px;
            color:#00c950;
        }
        .note-toaster p {
           margin-left:40px;
        }
   
    </style>
</head>
<body>
    <div class="navbar">
        <div class="buttons">
            <button id="add"><i class='bx bx-plus'></i>Add Notes</button>
            <button id="design"><i class='bx bx-palette'></i>Design</button>
            <button id="archive"><i class='bx bx-archive'></i>Archive</button>
        </div>
    </div>
    <div class="container">
    <div class="option-bar">
         <div class="options">
            <div class="select-wall box active">
                <i class='bx bx-group'></i>
                <h1>Wall</h1>
            </div>
             <div class="select-rules box">
                <i class='bx bx-message-alt'></i>
                <h1>Rules</h1>
            </div>
         </div>
    </div>

    <div class="main">
        <div class="cards-board">
            <div class="card green">
               <div class="pins">
                 <div class="pin">
                <div class="pin-head"></div>
                <div class="pin-stem"></div>
                </div>
              </div>
                <h1>Typing random thoughts before I forget them, letting my mind spill out everything at once, hoping I can catch the ideas before they disappear into nothing, scattered and fleeting.</h1>
                <span>14M AGO</span>
                <div class="card-clickables">
                    <div class="heart-button btn">
                        <i class='bx bx-heart'></i>
                        <h2>0</h2>
                    </div>
                    <div class="comment-button btn">
                        <i class='bx bx-message-rounded-dots'></i>
                        <h2>0</h2>
                    </div>
                </div>
            </div>

              <div class="card yellow-diagonal">
            <div class="pins">
             <div class="pin">
                <div class="pin-head"></div>
                <div class="pin-stem"></div>
                </div>
              </div>
                <h1>Just writing whatever pops into my head right now</h1>
                <span>4D AGO</span>
                <div class="card-clickables">
                    <div class="heart-button btn">
                        <i class='bx bx-heart'></i>
                        <h2>0</h2>
                    </div>
                    <div class="comment-button btn">
                        <i class='bx bx-message-rounded-dots'></i>
                        <h2>0</h2>
                    </div>
                </div>
            </div>

              <div class="card yellow-diagonal">
            <div class="pins">
             <div class="pin">
                <div class="pin-head"></div>
                <div class="pin-stem"></div>
                </div>
              </div>
                <h1>Brain feels loud, so I‚Äôm leaving this here</h1>
                <span>4D AGO</span>
                <div class="card-clickables">
                    <div class="heart-button btn">
                        <i class='bx bx-heart'></i>
                        <h2>0</h2>
                    </div>
                    <div class="comment-button btn">
                        <i class='bx bx-message-rounded-dots'></i>
                        <h2>0</h2>
                    </div>
                </div>
            </div>

              <div class="card yellow">
            <div class="pins">
             <div class="pin">
                <div class="pin-head"></div>
                <div class="pin-stem"></div>
                </div>
              </div>
                <h1>This note doesn‚Äôt mean much, and that‚Äôs okay</h1>
                <span>4D AGO</span>
                <div class="card-clickables">
                    <div class="heart-button btn">
                        <i class='bx bx-heart'></i>
                        <h2>0</h2>
                    </div>
                    <div class="comment-button btn">
                        <i class='bx bx-message-rounded-dots'></i>
                        <h2>0</h2>
                    </div>
                </div>
            </div>

               <div class="card pink">
            <div class="pins">
             <div class="pin">
                <div class="pin-head"></div>
                <div class="pin-stem"></div>
                </div>
              </div>
                <h1>This note doesn‚Äôt mean much, and that‚Äôs okay</h1>
                <span>4D AGO</span>
                <div class="card-clickables">
                    <div class="heart-button btn">
                        <i class='bx bx-heart'></i>
                        <h2>0</h2>
                    </div>
                    <div class="comment-button btn">
                        <i class='bx bx-message-rounded-dots'></i>
                        <h2>0</h2>
                    </div>
                </div>
            </div>

        </div>

        <div class="rule">
        <div class="message-icon">
              <div class="pins2">
                 <div class="pin">
                <div class="pin-head2"></div>
                <div class="pin-stem"></div>
                </div>
              </div>
            <i class='bx bx-message'></i>
        </div>
  
        <h1>Public Wall Guidelines</h1>
        <div class="rectangle-container">
        <div class="rectangle">
         <h2>üìù Keep your notes friendly and respectful</h2>            
        </div>
        <div class="rectangle">
            <h2>üåê This is a space for everyone to share and connect</h2>            
        </div>
        <div class="rectangle">
            <h2>‚ùå No spam, hate speech, or inappropriate content</h2>            
        </div>
        <div class="rectangle">
            <h2>‚ö†Ô∏è Report any content that violates these guidelines</h2>            
        </div>
        </div>
         <div class="credits">
            <div class="circle"></div>
            <p>Moderated daily by Zed for your safety</p>
        </div>

    </div>
 
    </div>
    </div>


    <div class="createModal">
        <div class="modal-content">
            <div class="header-container">
            <div class="header">
                    <i class='bx bx-pin' ></i>Stick Your Thoughts Here
            </div>
            <div class="close">
                <i class='bx bx-x'></i>
            </div>
            </div>
            <div class="modal-body">
                <div class="modal-announcement">
                    <div class="top">
                    <div class="title">
                      <h1>üìùPublic Note</h1>
                    </div>
                    <div class="reminder">
                        <i class='bx bx-alarm' ></i>Private notes coming soon!
                    </div>
                    </div>
                    <p>üåçYour note will be visible to everyone on the community wall</p>
                </div> <!--modal announcement-->


                <div class="middle">
                    <h1>What would you like to share?</h1>
                    <textarea placeholder="Write your message here... (like on real paper!)" id="textarea"></textarea>
                    <div class="character-count">
                        <h3 id="charCount">0/280 characters</h3>
                        <span id="leftCount">280 left</span>
                    </div>
                </div>

                <div class="color">
                    <h1>Choose Paper Color</h1>
                    <div class="color-selection">
                        <div class="sunny-yellow box" data-color="sunny-yellow">
                            <h2>Sunny Yellow</h2>
                        </div>

                          <div class="pretty-pink box" data-color="pretty-pink">
                            <h2>Pretty Pink</h2>
                        </div>

                          <div class="sky-blue box" data-color="sky-blue">
                            <h2>Sky Blue</h2>
                        </div>

                          <div class="fresh-green box" data-color="fresh-green">
                            <h2>Fresh Green</h2>
                        </div>

                          <div class="royal-purple box" data-color="royal-purple">
                            <h2>Royal Purple</h2>
                        </div>

                          <div class="bright-orange box" data-color="bright-orange">
                            <h2>Bright Orange</h2>
                        </div>

                    </div>
                </div>

                <div class="preview">
                    <h1>Preview</h1>
                    <div class="preview-box"></div>
                </div>

                <div class="bottom">
                    <div class="buttons">
                        <button class="close">Cancel</button>
                        <button  id="pinWall"><i class='bx bx-pin'></i> Pin to Wall</button>
                    </div>
                </div>
            </div> <!--modal body -->
        </div>     
    </div>
          
    <div class="note-toaster">
         <div class="pins">
             <div class="pin">
                <div class="pin-head"></div>
                <div class="pin-stem"></div>
                </div>
              </div>
        <div class="top">
            <div class="icon">
                <i class='bx bx-check-circle'></i>
            </div>
            <h1>Note Created!</h1>
        </div>
        <p>Your note has been pinned to the wall.</p>
    </div>
    
    


    <script>
        let closeBtn = document.querySelectorAll(".close");
        let addBtn = document.getElementById("add");
        let modal = document.querySelector(".createModal");

        let textArea = document.getElementById("textarea");
        let textLimit = 280;
        let charLeft = document.getElementById("leftCount");
        let charCount = document.getElementById("charCount");
        let pinBtn = document.getElementById("pinWall");
        let previewBox = document.querySelector(".preview-box");
        pinBtn.disabled = true;
        let preview = document.querySelector(".preview");
        let cardsBoard = document.querySelector(".cards-board");
           
        let selectedColor = "";
        let boxes = document.querySelectorAll(".color-selection .box");
        boxes.forEach(box => {
            box.addEventListener("click", () => {
                boxes.forEach(b => b.classList.remove("active"));
                box.classList.add("active");
                
                 selectedColor = box.dataset.color;
            if (selectedColor == "fresh-green"){
             previewBox.style.backgroundColor = "#b9f8cf";
             previewBox.style.border = "3px solid #05df72";
            }
            else if(selectedColor == "pretty-pink"){
             previewBox.style.backgroundColor = "#fbcde6";
             previewBox.style.border = "3px solid #fa78bf";
            }
            else if(selectedColor == "sky-blue"){
             previewBox.style.backgroundColor = "#fbcde6";
             previewBox.style.border = "3px solid #50a2ff";
            }
            else if(selectedColor == "royal-purple"){
             previewBox.style.backgroundColor = "#e9d4ff";
             previewBox.style.border = "3px solid #c27aff";
            }
            else if(selectedColor == "bright-orange"){
             previewBox.style.backgroundColor = "#ffd6a7";
             previewBox.style.border = "3px solid #ff8904";
             }
            else {
              previewBox.style.backgroundColor = "#fff085";
              previewBox.style.border = "3px solid #fdc700";
            }
                console.log(selectedColor);
            })
        })
        textArea.addEventListener("input", (e) => {
            let value = textArea.value;
            let length = value.length;
            if(length > 0){
                pinBtn.disabled = false;
                preview.style.display = "block";
            }
            else {
                pinBtn.disabled = true;
            }
            let calculation = textLimit - length;
         
            if(calculation < 0){
                textArea.value = textArea.value.slice(0,textLimit);
                length = textLimit;
                calculation = 0;
            }
            charLeft.textContent = `${calculation} left`;
            charCount.textContent = `${length}/280 characters`;

            previewBox.textContent = value;
            
        })

     

        pinBtn.addEventListener("click", () => {
            let value = textArea.value;
            let span = document.querySelector(".card span")
            console.log(span)

            
            pinBtn.innerHTML  = "<i class='bx bx-loader-alt bx-spin pin-btn'></i>Pinning to Wall"
            pinBtn.disabled  = true;
            if (selectedColor == "fresh-green"){
                selectedColor = "green";
            }
            else if(selectedColor == "pretty-pink"){
                selectedColor = "pink";
            }
            else if(selectedColor == "sky-blue"){
                selectedColor = "blue";
            }
            else if(selectedColor == "royal-purple"){
                selectedColor = "purple";
            }
            else if(selectedColor == "bright-orange"){
                selectedColor = "orange"
            }
            else {
                selectedColor = "yellow";
            }
            const rotations = ["-2deg","-1.5deg","-1deg","-0.5deg","0deg","0.5deg","1deg","1.5deg","2deg"];
            let randomRotation = rotations[Math.floor(Math.random() * rotations.length)];
            const now = new Date();
            setTimeout(() => {
                  modal.style.display = "none";
                  cardsBoard.innerHTML = `
                    <div class="card ${selectedColor}">
               <div class="pins">
                 <div class="pin">
                <div class="pin-head"></div>
                <div class="pin-stem"></div>
                </div>
              </div>
                <h1>${value}</h1>
                <span data-time="${now.toISOString()}">${timeAgo(now)}</span>
                <div class="card-clickables">
                    <div class="heart-button btn">
                        <i class='bx bx-heart'></i>
                        <h2>0</h2>
                    </div>
                    <div class="comment-button btn">
                        <i class='bx bx-message-rounded-dots'></i>
                        <h2>0</h2>
                    </div>
                </div>
            </div>
                  ` + cardsBoard.innerHTML;
                    pinBtn.innerHTML = "<i class='bx bx-pin'></i> Pin to Wall";
                    pinBtn.disabled = false;
                    const card = cardsBoard.querySelector(".card:last-child");
                    card.style.transform = `rotate(${randomRotation})`;
                    textArea.value = "";
                    document.querySelector(".note-toaster").classList.add("active");
                    setTimeout(() => {
                    document.querySelector(".note-toaster").classList.remove("active");
                    },3000)

            },2000)
        })
        let cards = document.querySelectorAll(".card")
        cards.forEach(card => {
               const rotations = ["-2deg","-1.5deg","-1deg","-0.5deg","0deg","0.5deg","1deg","1.5deg","2deg"];
               let randomRotation = rotations[Math.floor(Math.random() * rotations.length)];
            card.addEventListener("mouseenter", () => {
                card.style.transform = `rotate(${randomRotation})`;
                card.style.transform += "scale(1.05)";
                card.style.transition = "all 300ms ease";
            })
            card.addEventListener("mouseleave", () => {
                const rotation = card.style.transform.split("rotate")[0] || "";
                card.style.transform = rotation
            })
        })

        function timeAgo(date){
            const now = new Date();
            const seconds = Math.floor((now - date) / 1000);

            if(seconds < 60) return "Just now";
            if(seconds < 3600) return `${Math.floor(seconds / 60)}M AGO`;
            if(seconds < 86400) return `${Math.floor(seconds /3600)}H AGO`;
            return `${Math.floor(seconds / 86400)}D AGO`;
        }
        setInterval(() => {
            document.querySelectorAll(".card span").forEach(span => {
                const timestamp = new Date(span.dataset.time);
                span.textContent = timeAgo(timestamp)
            })
        }, 60000)

        let optionBox = document.querySelectorAll(".options .box");
        let selectRule = document.querySelector(".select-rules");
        let selectWall = document.querySelector(".select-wall");
        let main = document.querySelector(".main");
        let mainRule = document.querySelector(".rule")
        optionBox.forEach(option => {
            option.addEventListener("click", () => {
                optionBox.forEach(b => {
                    b.classList.remove("active")
                })
                option.classList.add("active");
            })
        })
        selectRule.addEventListener("click", () => {
           cardsBoard.style.display = "none";
           mainRule.style.display = "grid";

        })
         selectWall.addEventListener("click", () => {
           cardsBoard.style.display = "grid";
           mainRule.style.display = "none";
        })
        closeBtn.forEach(btn => {
            btn.addEventListener("click", () => {
                modal.style.display = "none";
            })
        })
        addBtn.addEventListener("click", (e) => {
            modal.style.display = "flex";
        })
      
      
    </script>
</body>
</html>

